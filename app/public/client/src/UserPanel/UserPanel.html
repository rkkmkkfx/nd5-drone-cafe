<!--/* Модальное окно авторизации - BEGIN */-->
<div id="userLogin" class="modal">
	<div class="modal-content">
		<h4>Войти</h4>
		<div class="row">
			<form class="col s12" name="vm.userForm" role="form">
				<div class="row">
					<div class="input-field col s6">
						<label for="name">Ваше имя</label>
						<input type="text" id="name" ng-model="$ctrl.userLogin.name" required ng-minlength="3"  name="username"/>
						<div ng-messages="vm.userForm.username.$error" ng-if="vm.userForm.username.$dirty">
							<div ng-message="required" class="alert alert-danger" role="alert">А где имя?</div>
							<div ng-message="minlength" class="alert alert-danger" role="alert">Имя слишком короткое</div>
						</div>
					</div>
					<div class="input-field col s6">
						<label for="email" data-error="wrong" data-success="right">Email</label>
						<input type="email" id="email" class="validate" ng-model="$ctrl.userLogin.email" required data-ng-pattern='/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/' name="usermail"/>
						<div ng-messages="vm.userForm.usermail.$error" ng-if="vm.userForm.usermail.$dirty">
							<div ng-message="required" class="alert alert-danger">E-mail тоже обязателен!</div>
							<div ng-message="pattern" class="alert alert-danger">Введите правильный e-mail</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
	<div class="modal-footer">
		<a class="modal-action modal-close waves-effect waves-green btn-flat" ng-click="$ctrl.login()">Отправить</a>
	</div>
</div>
<!--/* Модальное окно авторизации - END */-->

<!--/* Боковое меню - BEGIN */-->
<ul id="slide-out" class="side-nav red darken-4 white-text">
	<li><div class="userView">
		<div class="background">
			<img src="images/office.jpg">
		</div>
		<div class="row">
			<div class="col s3">
				<i class="medium material-icons">perm_identity</i>
			</div>
			<div class="col s9">
				<span class="white-text name">{{ $ctrl.activeUser.name}}</span>
			</div>
		</div>
		<a href="mailto:{{ $ctrl.activeUser.email }}"><span>{{ $ctrl.activeUser.email }}</span></a>
		<span>{{ $ctrl.activeUser.points }}</span>
		
	</div></li>
	<li><a href="#!">Меню</a></li>
	<li><a >Пополнить счет</a></li>
	<li><div class="divider"></div></li>
	<li><a class="subheader">Ваш заказ:</a></li>
	<cart-component></cart-component>
	<li><a class="waves-effect" href="#!">Third Link With Waves</a></li>
</ul>

<a href="#" data-activates="slide-out" class="menu-btn button-collapse btn-floating btn-large waves-effect waves-light red right">
	<i class="material-icons">menu</i>
</a>
<!--/* Боковое меню - BEGIN */-->

<script>
	$('.button-collapse').sideNav({
			menuWidth: 300,
			edge: 'left',
			closeOnClick: true,
			draggable: true
		}
	);
	$('#userLogin').modal({
			dismissible: false,
			inDuration: 300,
			outDuration: 200,
			startingTop: '4%',
			endingTop: '10%',
		},

	);
	$(document).ready(() => {
		$('#userLogin').modal('open');
	});
</script>